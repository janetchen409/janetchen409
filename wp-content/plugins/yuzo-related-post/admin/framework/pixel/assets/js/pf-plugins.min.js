(function(){function t(t,s){this.element=e(t),this.options=s,this.init()}var e=jQuery;t.prototype.init=function(){this.element.chosen(this.options),this.container=this.element.next(".chosen-container"),this.search_field=this.container.find(".chosen-search-input"),this.is_multiple=this.container.hasClass("chosen-container-multi"),this.is_typing=!1,this.chosenXhr=null,this.events()},t.prototype.events=function(){var t=this;this.search_field.on("compositionstart",function(){t.is_typing=!0}),this.search_field.on("compositionend",function(){t.is_typing=!1,t.update_list()}),this.search_field.on("keyup",function(){t.update_list()}),this.search_field.on("focus",function(){t.search_field_focused()})},t.prototype.search_field_focused=function(){this.search_welcome_message(),0===this.options.min_length&&0===this.search_field.val().length&&this.update_list()},t.prototype.search_welcome_message=function(){var t=e.trim(this.search_field.val()),s=this.container.find(".chosen-results");0===s.children().length&&0===t.length&&s.html('<li class="no-results">'+this.options.typing_text.replace("%s",this.options.min_length-t.length)+"</li>")},t.prototype.update_list=function(){var t=this;if(this.search_welcome_message(),!this.is_typing){var s=e.trim(this.search_field.val()),i=s.length<this.options.min_length?this.options.typing_text.replace("%s",this.options.min_length-s.length):this.options.searching_text;this.container.find(".no-results").text(i),s!==this.search_field.data("prevVal")&&(this.search_field.data("prevVal",s),this.timer&&clearTimeout(this.timer),s.length<this.options.min_length||(this.timer=setTimeout(function(){t.chosenXhr&&t.chosenXhr.abort(),t.options.data.term=s,t.chosenXhr=window.wp.ajax.post("pf-chosen",t.options.data).done(function(e){t.show_results(e)}).fail(function(e){t.container.find(".no-results").text(e.error)})},this.options.type_delay)))}},t.prototype.show_results=function(t){var s=this;if(!this.is_typing&&null!==t){if(0===t.length)return this.element.data().chosen.no_results_clear(),void this.element.data().chosen.no_results(this.search_field.val());var i=[];this.element.find("option").each(function(){e(this).is(":selected")?i.push(e(this).val()+"-"+e(this).text()):e(this).attr("value").length&&e(this).remove()}),e.each(t,function(t,n){-1===e.inArray(n.value+"-"+n.text,i)&&e("<option />").attr("value",n.value).html(n.text).appendTo(s.element)});var n=this.search_field.val(),o=this.search_field.innerWidth();if(this.element.trigger("chosen:updated"),this.is_multiple){var r=this.element.parent().find(".pf-hidden-select"),l=r.val()||[];this.element.PFChosenOrder(l,!0),this.search_field.css("width",o)}this.search_field.val(n),null!==this.chosenXhr.done&&this.chosenXhr.done(t)}},jQuery.fn.PFAjaxChosen=function(e){return this.each(function(){new t(this,e)})}})(jQuery),function(){var t,e,s,i=[].indexOf||function(t){for(var e=0,s=this.length;e<s;e++)if(e in this&&this[e]===t)return e;return-1},n={}.hasOwnProperty,o=function(t,e){function s(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};e=function(){function t(){}return t.insertAt=function(t,e,s){return s.insertBefore(t,s.children[e].nextSibling)},t.getFlattenedOptionsAndGroups=function(t){var e,s,i,n,o,r,l,a,c;for(i=Array.prototype.filter.call(t.childNodes,function(t){var e;return"OPTION"===(e=t.nodeName.toUpperCase())||"OPTGROUP"===e}),e=[],r=0,a=i.length;r<a;r++)if(s=i[r],e.push(s),"OPTGROUP"===s.nodeName.toUpperCase())for(o=Array.prototype.filter.call(s.childNodes,function(t){return"OPTION"===t.nodeName.toUpperCase()}),l=0,c=o.length;l<c;l++)n=o[l],e.push(n);return e},t.isValidMultipleSelectElement=function(t){return null!=t&&"SELECT"===t.nodeName&&t.multiple},t.getChosenUIContainer=function(t){return""!==t.id?document.getElementById(t.id.replace(/-/g,"_")+"_chosen"):this.searchChosenUIContainer(t)},t.isChosenified=function(t){return null!=this.getChosenUIContainer(t)},t.forceSelection=function(t,e){var s,n,o,r;for(o=this.getFlattenedOptionsAndGroups(t),s=0;s<o.length;)n=o[s],r=n.getAttribute("value"),i.call(e,r)>=0?(n.selected=!0,n.setAttribute("selected","")):(n.selected=!1,n.removeAttribute("selected")),s++;return this.triggerEvent(t,"chosen:updated")},t.PFChosenOrder=function(t,e,s){var i,n,o,r,l,a,c,h,u,d,p,f,g,m,_;if(null!=this.getDOMElement&&(t=this.getDOMElement(t)),this.isValidMultipleSelectElement(t)&&(n=this.getChosenUIContainer(t),null!=n&&e instanceof Array)){for(e=e.map(Function.prototype.call,String.prototype.trim),h=this.getFlattenedOptionsAndGroups(t),null!=s&&!0===s&&this.forceSelection(t,e),_=[],o=p=0,g=e.length;p<g;o=++p){for(a=e[o],u=null,r=f=0,m=h.length;f<m;r=++f)l=h[r],l.value===a&&(u=r);i=n.querySelectorAll(".search-choice"),d=this.relAttributeName,c=Array.prototype.filter.call(i,function(t){return null!=t.querySelector("a.search-choice-close["+d+'="'+u+'"]')})[0],null!=c&&(n.querySelector("ul.chosen-choices"),_.push(this.insertAt(c,o,n.querySelector("ul.chosen-choices"))))}return _}},t}(),t=jQuery,t.fn.extend({PFChosenOrder:function(t,e){return _PFChosenOrder.PFChosenOrder(this,t,e)}}),this._PFChosenOrder=function(e){function i(){return s=i.__super__.constructor.apply(this,arguments),s}return o(i,e),i.relAttributeName="data-option-array-index",i.isjQueryObject=function(t){return"undefined"!=typeof jQuery&&null!==jQuery&&t instanceof jQuery},i.getDOMElement=function(t){return this.isjQueryObject(t)?t.get(0):t},i.searchChosenUIContainer=function(e){return null!=t(e).data("chosen")?t(e).data("chosen").container[0]:t(e).next(".chosen-container.chosen-container-multi").get(0)},i.triggerEvent=function(e,s){return t(e).trigger(s)},i}(e)}.call(this),function(){var t,e,s,i,n=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e){function s(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},r={}.hasOwnProperty;i=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,i,n,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=t.childNodes,r=[],s=0,i=o.length;s<i;s++)n=o[s],r.push(this.add_option(n,e,t.disabled));return r},t.prototype.add_option=function(t,e,s){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===s?s:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}(),i.select_to_array=function(t){var e,s,n,o,r;for(o=new i,r=t.childNodes,s=0,n=r.length;s<n;s++)e=r[s],o.add_node(e);return o.parsed},e=function(){function t(e,s){this.form_field=e,this.options=null!=s?s:{},this.label_click_handler=n(this.label_click_handler,this),t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return t.prototype.set_default_values=function(){var t;return this.click_test_action=(t=this,function(e){return t.test_active_click(e)}),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+this.escape_html(t.group_label)+"</b>"+t.html:t.html},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout((e=this,function(){return e.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var e},t.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((e=this,function(){return e.blur_test()}),100);var e},t.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},t.prototype.results_option_build=function(t){var e,s,i,n,o,r,l;for(e="",l=0,r=this.results_data,n=0,o=r.length;n<o&&(s=r[n],i="",i=s.group?this.result_add_group(s):this.result_add_option(s),""!==i&&(l++,e+=i),(null!=t?t.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(s))),!(l>=this.max_shown_results));n++);return e},t.prototype.result_add_option=function(t){var e,s;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),s=document.createElement("li"),s.className=e.join(" "),t.style&&(s.style.cssText=t.style),s.setAttribute("data-option-array-index",t.array_index),s.innerHTML=t.highlighted_html||t.html,t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.result_add_group=function(t){var e,s;return(t.search_match||t.group_match)&&t.active_options>0?(e=[],e.push("group-result"),t.classes&&e.push(t.classes),s=document.createElement("li"),s.className=e.join(" "),s.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(s.title=t.title),this.outerHTML(s)):""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.reset_single_select_options=function(){var t,e,s,i,n;for(s=this.results_data,n=[],t=0,e=s.length;t<e;t++)i=s[t],i.selected?n.push(i.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(t){var e,s,i,n,o,r,l,a,c,h,u,d,p,f,g;for(this.no_results_clear(),h=0,l=this.get_search_text(),e=l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=this.get_search_regex(e),a=this.results_data,i=0,n=a.length;i<n;i++)o=a[i],o.search_match=!1,u=null,d=null,o.highlighted_html="",this.include_option_in_results(o)&&(o.group&&(o.group_match=!1,o.active_options=0),null!=o.group_array_index&&this.results_data[o.group_array_index]&&(u=this.results_data[o.group_array_index],0===u.active_options&&u.search_match&&(h+=1),u.active_options+=1),g=o.group?o.label:o.text,o.group&&!this.group_search||(d=this.search_string_match(g,c),o.search_match=null!=d,o.search_match&&!o.group&&(h+=1),o.search_match?(l.length&&(p=d.index,r=g.slice(0,p),s=g.slice(p,p+l.length),f=g.slice(p+l.length),o.highlighted_html=this.escape_html(r)+"<em>"+this.escape_html(s)+"</em>"+this.escape_html(f)),null!=u&&(u.group_match=!0)):null!=o.group_array_index&&this.results_data[o.group_array_index].search_match&&(o.search_match=!0)));return this.result_clear_highlight(),h<1&&l.length?(this.update_results_content(""),this.no_results(l)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},t.prototype.get_search_regex=function(t){var e,s;return s=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(s="^"+s),e=this.case_sensitive_search?"":"i",new RegExp(s,e)},t.prototype.search_string_match=function(t,e){var s;return s=e.exec(t),!this.search_contains&&(null!=s?s[1]:void 0)&&(s.index+=1),s},t.prototype.choices_count=function(){var t,e,s,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,t=0,e=i.length;t<e;t++)s=i[t],s.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keydown_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==s&&this.pending_backstroke&&this.clear_backstroke(),s){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},t.prototype.keyup_checker=function(t){var e,s;switch(s=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),s){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},t.prototype.clipboard_event_checker=function(t){var e;if(!this.is_disabled)return setTimeout((e=this,function(){return e.results_search()}),50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},t.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(e){var n,o;n=t(this),o=n.data("chosen"),"destroy"!==i?o instanceof s||n.data("chosen",new s(this,i)):o instanceof s&&o.destroy()}):this}}),s=function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return o(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},s.prototype.set_up_html=function(){var e,s;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),s={class:e.join(" "),title:this.form_field.title},this.form_field.id.length&&(s.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",s),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},s.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){var t;return this.container.on("touchstart.chosen",(t=this,function(e){t.container_mousedown(e)})),this.container.on("touchend.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(t){return function(e){t.choices_click(e)}}(this)):this.container.on("click.chosen",function(t){t.preventDefault()})},s.prototype.destroy=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},s.prototype.container_mousedown=function(e){var s;if(!this.is_disabled)return!e||"mousedown"!==(s=e.type)&&"touchstart"!==s||this.results_showing||e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},s.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},s.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},s.prototype.close_field=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},s.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){var s;return s=t(e.target).closest(".chosen-container"),s.length&&this.container[0]===s[0]?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(t){var e,s,i,n,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),n=i+o,s=this.result_highlight.position().top+this.search_results.scrollTop(),e=s+this.result_highlight.outerHeight(),e>=n)return this.search_results.scrollTop(e-i>0?e-i:0);if(s<o)return this.search_results.scrollTop(s)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},s.prototype.update_results_content=function(t){return this.search_results.html(t)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},s.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var s;if(s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),s.length)return this.result_highlight=s,this.result_select(e),this.search_field.focus()},s.prototype.search_results_mouseover=function(e){var s;if(s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),s)return this.result_do_highlight(s)},s.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result")||t(e.target).parents(".active-result").first())return this.result_clear_highlight()},s.prototype.choice_build=function(e){var s,i,n;return s=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?s.addClass("search-choice-disabled"):(i=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index}),i.on("click.chosen",(n=this,function(t){return n.choice_destroy_link_click(t)})),s.append(i)),this.search_container.before(s)},s.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},s.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,s;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),s=this.results_data[e[0].getAttribute("data-option-array-index")],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(s):this.single_set_selected_text(this.choice_label(s)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},s.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},s.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){
if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},s.prototype.get_search_field_value=function(){return this.search_field.val()},s.prototype.get_search_text=function(){return t.trim(this.get_search_field_value())},s.prototype.escape_html=function(e){return t("<div/>").text(e).html()},s.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t)return this.result_do_highlight(t)},s.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first(),t?this.result_do_highlight(t):void 0):this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.search_field_scale=function(){var e,s,i,n,o,r,l;if(this.is_multiple){for(o={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},r=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"],s=0,i=r.length;s<i;s++)n=r[s],o[n]=this.search_field.css(n);return e=t("<div />").css(o),e.text(this.get_search_field_value()),t("body").append(e),l=e.width()+25,e.remove(),this.container.is(":visible")&&(l=Math.min(this.container.outerWidth()-10,l)),this.search_field.width(l)}},s.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},s}(e)}.call(this),function(t){void 0===t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var s=t([0]),i=-1,n=this.length;++i<n&&(s.context=s[0]=this[i])&&!1!==e.call(s[0],i,s););return this}})}(jQuery),function(t,e){"use strict";function s(e){var s=t(document.createTextNode(""));e.before(s),s.before(e),s.remove()}function i(t){function e(t){return U[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(t,e){for(var s=0,i=e.length;s<i;s+=1)if(r(t,e[s]))return s;return-1}function o(){var e=t(q);e.appendTo(document.body);var s={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),s}function r(t,s){return t===s||t!==e&&s!==e&&(null!==t&&null!==s&&(t.constructor===String?t+""==s+"":s.constructor===String&&s+""==t+""))}function l(t,e,s){var i,n,o;if(null===t||t.length<1)return[];for(i=t.split(e),n=0,o=i.length;n<o;n+=1)i[n]=s(i[n]);return i}function a(t){return t.outerWidth(!1)-t.width()}function c(s){var i="keyup-change-value";s.on("keydown",function(){t.data(s,i)===e&&t.data(s,i,s.val())}),s.on("keyup",function(){var n=t.data(s,i);n!==e&&s.val()!==n&&(t.removeData(s,i),s.trigger("keyup-change"))})}function h(s){s.on("mousemove",function(s){var i=F;i!==e&&i.x===s.pageX&&i.y===s.pageY||t(s.target).trigger("mousemove-filtered",s)})}function u(t,s,i){var n;return i=i||e,function(){var e=arguments;window.clearTimeout(n),n=window.setTimeout(function(){s.apply(i,e)},t)}}function d(t,e){var s=u(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){n(t.target,e.get())>=0&&s(t)})}function p(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,s=t[0],i=t.val().length;t.focus();var n=s.offsetWidth>0||s.offsetHeight>0;n&&s===document.activeElement&&(s.setSelectionRange?s.setSelectionRange(i,i):s.createTextRange&&(e=s.createTextRange(),e.collapse(!1),e.select()))},0)}function f(e){e=t(e)[0];var s=0,i=0;if("selectionStart"in e)s=e.selectionStart,i=e.selectionEnd-s;else if("selection"in document){e.focus();var n=document.selection.createRange();i=document.selection.createRange().text.length,n.moveStart("character",-e.value.length),s=n.text.length-i}return{offset:s,length:i}}function g(t){t.preventDefault(),t.stopPropagation()}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function _(e){if(!j){var s=e[0].currentStyle||window.getComputedStyle(e[0],null);j=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:s.fontSize,fontFamily:s.fontFamily,fontStyle:s.fontStyle,fontWeight:s.fontWeight,letterSpacing:s.letterSpacing,textTransform:s.textTransform,whiteSpace:"nowrap"}),j.attr("class","select2-sizer"),t(document.body).append(j)}return j.text(e.val()),j.width()}function v(e,s,i){var n,o,r=[];n=t.trim(e.attr("class")),n&&(n=""+n,t(n.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),n=t.trim(s.attr("class")),n&&(n=""+n,t(n.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&r.push(o))})),e.attr("class",r.join(" "))}function b(t,e,s,n){var o=i(t.toUpperCase()).indexOf(i(e.toUpperCase())),r=e.length;o<0?s.push(n(t)):(s.push(n(t.substring(0,o))),s.push("<span class='select2-match'>"),s.push(n(t.substring(o,o+r))),s.push("</span>"),s.push(n(t.substring(o+r,t.length))))}function y(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function w(s){var i,n=null,o=s.quietMillis||100,r=s.url,l=this;return function(a){window.clearTimeout(i),i=window.setTimeout(function(){var i=s.data,o=r,c=s.transport||t.fn.select2.ajaxDefaults.transport,h={type:s.type||"GET",cache:s.cache||!1,jsonpCallback:s.jsonpCallback||e,dataType:s.dataType||"json"},u=t.extend({},t.fn.select2.ajaxDefaults.params,h);i=i?i.call(l,a.term,a.page,a.context):null,o="function"==typeof o?o.call(l,a.term,a.page,a.context):o,n&&"function"==typeof n.abort&&n.abort(),s.params&&(t.isFunction(s.params)?t.extend(u,s.params.call(l)):t.extend(u,s.params)),t.extend(u,{url:o,dataType:s.dataType,data:i,success:function(t){var e=s.results(t,a.page,a);a.callback(e)},error:function(t,e,s){var i={hasError:!0,jqXHR:t,textStatus:e,errorThrown:s};a.callback(i)}}),n=c.call(l,u)},o)}}function x(e){var s,i,n=e,o=function(t){return""+t.text};t.isArray(n)&&(i=n,n={results:i}),!1===t.isFunction(n)&&(i=n,n=function(){return i});var r=n();return r.text&&(o=r.text,t.isFunction(o)||(s=r.text,o=function(t){return t[s]})),function(e){var s,i=e.term,r={results:[]};""!==i?(s=function(n,r){var l,a;if(n=n[0],n.children){for(a in l={},n)n.hasOwnProperty(a)&&(l[a]=n[a]);l.children=[],t(n.children).each2(function(t,e){s(e,l.children)}),(l.children.length||e.matcher(i,o(l),n))&&r.push(l)}else e.matcher(i,o(n),n)&&r.push(n)},t(n().results).each2(function(t,e){s(e,r.results)}),e.callback(r)):e.callback(n())}}function S(s){var i=t.isFunction(s);return function(n){var o=n.term,r={results:[]},l=i?s(n):s;t.isArray(l)&&(t(l).each(function(){var t=this.text!==e,s=t?this.text:this;(""===o||n.matcher(o,s))&&r.results.push(t?this:{id:this,text:this})}),n.callback(r))}}function C(e,s){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(s+" must be a string, function, or falsy value")}function k(e,s){if(t.isFunction(e)){var i=Array.prototype.slice.call(arguments,2);return e.apply(s,i)}return e}function T(e){var s=0;return t.each(e,function(t,e){e.children?s+=T(e.children):s++}),s}function E(t,s,i,n){var o,l,a,c,h,u=t,d=!1;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return e;for(;;){for(l=-1,a=0,c=n.tokenSeparators.length;a<c&&(h=n.tokenSeparators[a],l=t.indexOf(h),!(l>=0));a++);if(l<0)break;if(o=t.substring(0,l),t=t.substring(l+h.length),o.length>0&&(o=n.createSearchChoice.call(this,o,s),o!==e&&null!==o&&n.id(o)!==e&&null!==n.id(o))){for(d=!1,a=0,c=s.length;a<c;a++)if(r(n.id(o),n.id(s[a]))){d=!0;break}d||i(o)}}return u!==t?t:void 0}function I(){var e=this;t.each(arguments,function(t,s){e[s].remove(),e[s]=null})}function O(e,s){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,s),i}if(window.Select2===e){var A,P,R,D,j,N,L,M,F={x:0,y:0},H={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t,t){case H.LEFT:case H.RIGHT:case H.UP:case H.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case H.SHIFT:case H.CTRL:case H.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&t<=123}},q="<div class='select2-measure-scrollbar'></div>",U={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};N=t(document),M=1,D=function(){return M++},A=O(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(s){var i,n,r=".select2-results";this.opts=s=this.prepareOpts(s),this.id=s.id,s.element.data("select2")!==e&&null!==s.element.data("select2")&&s.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(s.element.attr("id")||"autogen"+D()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",s.element.attr("title")),this.body=t(document.body),v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",s.element.attr("style")),this.container.css(k(s.containerCss,this.opts.element)),this.container.addClass(k(s.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(s.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(r),this.search=n=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),h(this.results),this.dropdown.on("mousemove-filtered",r,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",r,this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",r,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",r,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(t){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),d(80,this.results),this.dropdown.on("scroll-debounced",r,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&i.mousewheel(function(t,e,s,n){var o=i.scrollTop();n>0&&o-n<=0?(i.scrollTop(0),g(t)):n<0&&i.get(0).scrollHeight-i.scrollTop()+n<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(t))}),c(n),n.on("keyup-change input paste",this.bind(this.updateResults)),n.on("focus",function(){n.addClass("select2-focused")}),n.on("blur",function(){n.removeClass("select2-focused")}),this.dropdown.on("mouseup",r,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.lastSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==s.maximumInputLength&&this.search.attr("maxlength",s.maximumInputLength);var l=s.element.prop("disabled");l===e&&(l=!1),this.enable(!l);var a=s.element.prop("readonly");a===e&&(a=!1),this.readonly(a),L=L||o(),this.autofocus=s.element.prop("autofocus"),s.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",s.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,s=t.data("select2"),i=this;this.close(),t.length&&t[0].detachEvent&&i._sync&&t.each(function(){i._sync&&this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,s!==e&&(s.container.remove(),s.liveRegion.remove(),s.dropdown.remove(),t.removeData("select2").off(".select2"),t.is("input[type='hidden']")?t.css("display",""):(t.show().prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())),I.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:r(t.attr("locked"),"locked")||r(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(s){var i,n,o,a,c=this;if(i=s.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=n=s.element),n&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in s)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),s.debug=s.debug||t.fn.select2.defaults.debug,s.debug&&console&&console.warn&&(null!=s.id&&console.warn("Select2: The `id` option has been removed in Select2 4.0.0, consider renaming your `id` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=s.text&&console.warn("Select2: The `text` option has been removed in Select2 4.0.0, consider renaming your `text` property or mapping the property before your data makes it to Select2. You can read more at https://select2.github.io/announcements-4.0.html#changed-id"),null!=s.sortResults&&console.warn("Select2: the `sortResults` option has been renamed to `sorter` in Select2 4.0.0. "),null!=s.selectOnBlur&&console.warn("Select2: The `selectOnBlur` option has been renamed to `selectOnClose` in Select2 4.0.0."),null!=s.ajax&&null!=s.ajax.results&&console.warn("Select2: The `ajax.results` option has been renamed to `ajax.processResults` in Select2 4.0.0."),null!=s.formatNoResults&&console.warn("Select2: The `formatNoResults` option has been renamed to `language.noResults` in Select2 4.0.0."),null!=s.formatSearching&&console.warn("Select2: The `formatSearching` option has been renamed to `language.searching` in Select2 4.0.0."),null!=s.formatInputTooShort&&console.warn("Select2: The `formatInputTooShort` option has been renamed to `language.inputTooShort` in Select2 4.0.0."),null!=s.formatInputTooLong&&console.warn("Select2: The `formatInputTooLong` option has been renamed to `language.inputTooLong` in Select2 4.0.0."),null!=s.formatLoading&&console.warn("Select2: The `formatLoading` option has been renamed to `language.loadingMore` in Select2 4.0.0."),null!=s.formatSelectionTooBig&&console.warn("Select2: The `formatSelectionTooBig` option has been renamed to `language.maximumSelected` in Select2 4.0.0."),s.element.data("select2Tags")&&console.warn("Select2: The `data-select2-tags` attribute has been renamed to `data-tags` in Select2 4.0.0.")),null!=s.element.data("tags")){var h=s.element.data("tags");t.isArray(h)||(h=[]),s.element.data("select2Tags",h)}if(null!=s.sorter&&(s.sortResults=s.sorter),null!=s.selectOnClose&&(s.selectOnBlur=s.selectOnClose),null!=s.ajax&&t.isFunction(s.ajax.processResults)&&(s.ajax.results=s.ajax.processResults),null!=s.language){var u=s.language;t.isFunction(u.noMatches)&&(s.formatNoMatches=u.noMatches),t.isFunction(u.searching)&&(s.formatSearching=u.searching),t.isFunction(u.inputTooShort)&&(s.formatInputTooShort=u.inputTooShort),t.isFunction(u.inputTooLong)&&(s.formatInputTooLong=u.inputTooLong),t.isFunction(u.loadingMore)&&(s.formatLoading=u.loadingMore),t.isFunction(u.maximumSelected)&&(s.formatSelectionTooBig=u.maximumSelected)}if(s=t.extend({},{populateResults:function(i,n,o){var r,l=this.opts.id,a=this.liveRegion;r=function(i,n,h){var u,d,p,f,g,m,_,v,b,y;i=s.sortResults(i,n,o);var w=[];for(u=0,d=i.length;u<d;u+=1)p=i[u],g=!0===p.disabled,f=!g&&l(p)!==e,m=p.children&&p.children.length>0,_=t("<li></li>"),_.addClass("select2-results-dept-"+h),_.addClass("select2-result"),_.addClass(f?"select2-result-selectable":"select2-result-unselectable"),g&&_.addClass("select2-disabled"),m&&_.addClass("select2-result-with-children"),_.addClass(c.opts.formatResultCssClass(p)),_.attr("role","presentation"),v=t(document.createElement("div")),v.addClass("select2-result-label"),v.attr("id","select2-result-label-"+D()),v.attr("role","option"),y=s.formatResult(p,v,o,c.opts.escapeMarkup),y!==e&&(v.html(y),_.append(v)),m&&(b=t("<ul></ul>"),b.addClass("select2-result-sub"),r(p.children,b,h+1),_.append(b)),_.data("select2-data",p),w.push(_[0]);n.append(w),a.text(s.formatMatches(i.length))},r(n,i,0)}},t.fn.select2.defaults,s),"function"!=typeof s.id&&(o=s.id,s.id=function(t){return t[o]}),t.isArray(s.element.data("select2Tags"))){if("tags"in s)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+s.element.attr("id");s.tags=s.element.data("select2Tags")}if(n?(s.query=this.bind(function(t){var s,n,o,r={results:[],more:!1},l=t.term;o=function(e,s){var i;e.is("option")?t.matcher(l,e.text(),e)&&s.push(c.optionToData(e)):e.is("optgroup")&&(i=c.optionToData(e),e.children().each2(function(t,e){o(e,i.children)}),i.children.length>0&&s.push(i))},s=i.children(),this.getPlaceholder()!==e&&s.length>0&&(n=this.getPlaceholderOption(),n&&(s=s.not(n))),s.each2(function(t,e){o(e,r.results)}),t.callback(r)}),s.id=function(t){return t.id}):"query"in s||("ajax"in s?(a=s.element.data("ajax-url"),a&&a.length>0&&(s.ajax.url=a),s.query=w.call(s.element,s.ajax)):"data"in s?s.query=x(s.data):"tags"in s&&(s.query=S(s.tags),s.createSearchChoice===e&&(s.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),s.initSelection===e&&(s.initSelection=function(e,i){var n=[];t(l(e.val(),s.separator,s.transformVal)).each(function(){var e={id:this,text:this},i=s.tags;t.isFunction(i)&&(i=i()),t(i).each(function(){if(r(this.id,e.id))return e=this,!1}),n.push(e)}),i(n)}))),"function"!=typeof s.query)throw"query function not defined for Select2 "+s.element.attr("id");if("top"===s.createSearchChoicePosition)s.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===s.createSearchChoicePosition)s.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof s.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return s},monitorSource:function(){var s,i=this.opts.element,n=this;i.on("change.select2",this.bind(function(t){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var t=i.prop("disabled");t===e&&(t=!1),this.enable(!t);var s=i.prop("readonly");s===e&&(s=!1),this.readonly(s),this.container&&(v(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(k(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(v(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(k(this.opts.dropdownCssClass,this.opts.element)))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",n._sync)}),s=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,s!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new s(function(e){t.each(e,n._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var s=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(s),!s.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,s,i,n,o,r=this.dropdown,l=this.container,a=l.offset(),c=l.outerHeight(!1),h=l.outerWidth(!1),u=r.outerHeight(!1),d=t(window),p=d.width(),f=d.height(),g=d.scrollLeft()+p,m=d.scrollTop()+f,_=a.top+c,v=a.left,b=_+u<=m,y=a.top-u>=d.scrollTop(),w=r.outerWidth(!1),x=function(){return v+w<=g},S=function(){return a.left+g+l.outerWidth(!1)>w},C=r.hasClass("select2-drop-above");C?(s=!0,!y&&b&&(i=!0,s=!1)):(s=!1,!b&&y&&(i=!0,s=!0)),i&&(r.hide(),a=this.container.offset(),c=this.container.outerHeight(!1),h=this.container.outerWidth(!1),u=r.outerHeight(!1),g=d.scrollLeft()+p,m=d.scrollTop()+f,_=a.top+c,v=a.left,w=r.outerWidth(!1),r.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=t(".select2-results",r)[0],r.addClass("select2-drop-auto-width"),r.css("width",""),w=r.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:L.width),w>h?h=w:w=h,u=r.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(e=this.body.offset(),_-=e.top,v-=e.left),!x()&&S()&&(v=a.left+this.container.outerWidth(!1)-w),n={left:v,width:h},s?(this.container.addClass("select2-drop-above"),r.addClass("select2-drop-above"),u=r.outerHeight(!1),n.top=a.top-u,n.bottom="auto"):(n.top=_,n.bottom="auto",this.container.removeClass("select2-drop-above"),r.removeClass("select2-drop-above")),n=t.extend(n,k(this.opts.dropdownCss,this.opts.element)),r.css(n)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),N.on("mousemove.select2Event",function(t){F.x=t.pageX,F.y=t.pageY}),!0)},opening:function(){var e,i=this.containerEventName,n="scroll."+i,o="resize."+i,r="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),e=t("#select2-drop-mask"),0===e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",function(i){s(e);var n,o=t("#select2-drop");o.length>0&&(n=o.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var l=this;this.container.parents().add(window).each(function(){t(this).on(o+" "+n+" "+r,function(t){l.opened()&&l.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,s="scroll."+e,i="resize."+e,n="orientationchange."+e
;this.container.parents().add(window).each(function(){t(this).off(s).off(i).off(n)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),N.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.search.removeAttr("aria-activedescendant"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},prefillNextSearchTerm:function(){if(""!==this.search.val())return!1;var t=this.opts.nextSearchTerm(this.data(),this.lastSearchTerm);return t!==e&&(this.search.val(t),this.search.select(),!0)},getMaximumSelectionSize:function(){return k(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,s,i,n,o,r,l,a,c=this.results;s=this.highlight(),s<0||(0!=s?(e=this.findHighlightableChoices().find(".select2-result-label"),i=t(e[s]),a=(i.offset()||{}).top||0,n=a+i.outerHeight(!0),s===e.length-1&&(l=c.find("li.select2-more-results"),l.length>0&&(n=l.offset().top+l.outerHeight(!0))),o=c.offset().top+c.outerHeight(!1),n>o&&c.scrollTop(c.scrollTop()+(n-o)),r=a-c.offset().top,r<0&&"none"!=i.css("display")&&c.scrollTop(c.scrollTop()+r)):c.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var s=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<s.length;){i+=e;var n=t(s[i]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(e){var s,i,o=this.findHighlightableChoices();if(0===arguments.length)return n(o.filter(".select2-highlighted")[0],o.get());e>=o.length&&(e=o.length-1),e<0&&(e=0),this.removeHighlight(),s=t(o[e]),s.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",s.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(s.text()),i=s.data("select2-data"),i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var s=t(e.target).closest(".select2-result-selectable");if(s.length>0&&!s.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(s))}else 0==s.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,s=e.find("li.select2-more-results"),i=this.resultsPage+1,n=this,o=this.search.val(),r=this.context;0!==s.length&&(t=s.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(s.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:r,matcher:this.opts.matcher,callback:this.bind(function(t){n.opened()&&(n.opts.populateResults.call(this,e,t.results,{term:o,page:i,context:r}),n.postprocessResults(t,!1,!1),!0===t.more?(s.detach().appendTo(e).html(n.opts.escapeMarkup(k(n.opts.formatLoadMore,n.opts.element,i+1))),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):s.remove(),n.positionDropdown(),n.resultsPage=i,n.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(s){function i(){c.removeClass("select2-active"),d.positionDropdown(),h.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.liveRegion.text(h.text()):d.liveRegion.text(d.opts.formatMatches(h.find('.select2-result-selectable:not(".select2-selected")').length))}function n(t){h.html(t),i()}var o,l,a,c=this.search,h=this.results,u=this.opts,d=this,p=c.val(),f=t.data(this.container,"select2-last-term");if((!0===s||!f||!r(p,f))&&(t.data(this.container,"select2-last-term",p),!0===s||!1!==this.showSearchInput&&this.opened())){a=++this.queryCount;var g=this.getMaximumSelectionSize();if(!(g>=1&&(o=this.data(),t.isArray(o)&&o.length>=g&&C(u.formatSelectionTooBig,"formatSelectionTooBig"))))return c.val().length<u.minimumInputLength?(C(u.formatInputTooShort,"formatInputTooShort")?n("<li class='select2-no-results'>"+k(u.formatInputTooShort,u.element,c.val(),u.minimumInputLength)+"</li>"):n(""),void(s&&this.showSearch&&this.showSearch(!0))):void(u.maximumInputLength&&c.val().length>u.maximumInputLength?C(u.formatInputTooLong,"formatInputTooLong")?n("<li class='select2-no-results'>"+k(u.formatInputTooLong,u.element,c.val(),u.maximumInputLength)+"</li>"):n(""):(u.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+k(u.formatSearching,u.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),l=this.tokenize(),l!=e&&null!=l&&c.val(l),this.resultsPage=1,u.query({element:u.element,term:c.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(o){var l;if(a==this.queryCount)if(this.opened())if(o.hasError!==e&&C(u.formatAjaxError,"formatAjaxError"))n("<li class='select2-ajax-error'>"+k(u.formatAjaxError,u.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");else{if(this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(l=this.opts.createSearchChoice.call(d,c.val(),o.results),l!==e&&null!==l&&d.id(l)!==e&&null!==d.id(l)&&0===t(o.results).filter(function(){return r(d.id(this),d.id(l))}).length&&this.opts.createSearchChoicePosition(o.results,l)),0===o.results.length&&C(u.formatNoMatches,"formatNoMatches"))return n("<li class='select2-no-results'>"+k(u.formatNoMatches,u.element,c.val())+"</li>"),void(this.showSearch&&this.showSearch(c.val()));h.empty(),d.opts.populateResults.call(this,h,o.results,{term:c.val(),page:this.resultsPage,context:null}),!0===o.more&&C(u.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+u.escapeMarkup(k(u.formatLoadMore,u.element,this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(o,s),i(),this.opts.element.trigger({type:"select2-loaded",items:o})}else this.search.removeClass("select2-active")})})));n("<li class='select2-selection-limit'>"+k(u.formatSelectionTooBig,u.element,g)+"</li>")}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(t){if(this._touchMoved)this.clearTouchMoved();else{var e=this.highlight(),s=this.results.find(".select2-highlighted"),i=s.closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()}},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var s=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&s||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(s.text())&&""===s.val())return s}},initContainerWidth:function(){function e(){var e,s,i,n,o,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(e=this.opts.element.attr("style"),"string"==typeof e)for(s=e.split(";"),n=0,o=s.length;n<o;n+=1)if(r=s[n].replace(/\s/g,""),i=r.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(e=this.opts.element.css("width"),e.indexOf("%")>0?e:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var s=e.call(this);null!==s&&this.container.css("width",s)}}),P=O(A,{createContainer:function(){var e=t(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,s,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),e=this.search.get(0),e.createTextRange?(s=e.createTextRange(),s.collapse(!1),s.select()):e.setSelectionRange&&(i=this.search.val().length,e.setSelectionRange(i,i))),this.prefillNextSearchTerm(),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),I.call(this,"selection","focusser")},initContainer:function(){var e,i,n=this.container,o=this.dropdown,r=D();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+r),this.focusser.attr("aria-labelledby","select2-chosen-"+r),this.results.attr("id","select2-results-"+r),this.search.attr("aria-owns","select2-results-"+r),this.focusser.attr("id","s2id_autogen"+r),i=t("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var l=this.opts.element.attr("title");this.opts.element.attr("title",l||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode)if(t.which!==H.PAGE_UP&&t.which!==H.PAGE_DOWN)switch(t.which){case H.UP:case H.DOWN:return this.moveHighlight(t.which===H.UP?-1:1),void g(t);case H.ENTER:return this.selectHighlighted(),void g(t);case H.TAB:return void this.selectHighlighted({noFocus:!0});case H.ESC:return this.cancel(t),void g(t)}else g(t)})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.results&&this.results.length>1&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==H.TAB&&!H.isControl(t)&&!H.isFunctionKey(t)&&t.which!==H.ESC){if(!1!==this.opts.openOnEnter||t.which!==H.ENTER){if(t.which==H.DOWN||t.which==H.UP||t.which==H.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void g(t)}return t.which==H.DELETE||t.which==H.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(t)):void 0}g(t)}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),m(t),this.close(),this.selection&&this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(i){s(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(i)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){g(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(e){var s=this.selection.data("select2-data");if(s){var i=t.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var n=this.getPlaceholderOption();this.opts.element.val(n?n.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(s),choice:s}),this.triggerChange({removed:s}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==e&&null!==s&&(t.updateSelection(s),t.close(),t.setPlaceholder(),t.lastSearchTerm=t.search.val())})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()!==e&&((t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val())},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=t.find("option").filter(function(){return this.selected&&!this.disabled});e(s.optionToData(i))}:"data"in e&&(e.initSelection=e.initSelection||function(s,i){var n=s.val(),o=null;e.query({matcher:function(t,s,i){var l=r(n,e.id(i));return l&&(o=i),l},callback:t.isFunction(i)?function(){i(o)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,s){var i=0,n=this;if(this.findHighlightableChoices().each2(function(t,e){if(r(n.id(e.data("select2-data")),n.opts.element.val()))return i=t,!1}),!1!==s&&(!0===e&&i>=0?this.highlight(i):this.highlight(0)),!0===e){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(T(t.results)>=o)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var s=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(s,this.id(t))||this.triggerChange({added:t,removed:i})}},updateSelection:function(t){var s,i,n=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),n.empty(),null!==t&&(s=this.opts.formatSelection(t,n,this.opts.escapeMarkup)),s!==e&&n.append(s),i=this.opts.formatSelectionCssClass(t,n),i!==e&&n.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,s=!1,i=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(s=arguments[1],this.opts.debug&&console&&console.warn&&console.warn('Select2: The second option to `select2("val")` is not supported in Select2 4.0.0. The `change` event will always be triggered in 4.0.0.')),this.select)this.opts.debug&&console&&console.warn&&console.warn('Select2: Setting the value on a <select> using `select2("val")` is no longer supported in 4.0.0. You can use the `.val(newValue).trigger("change")` method provided by jQuery instead.'),this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return i=n.optionToData(e),!1}),this.updateSelection(i),this.setPlaceholder(),s&&this.triggerChange({added:i,removed:o});else{if(!t&&0!==t)return void this.clear(s);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):""),n.updateSelection(t),n.setPlaceholder(),s&&n.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var s,i=!1;if(0===arguments.length)return s=this.selection.data("select2-data"),s==e&&(s=null),s;this.opts.debug&&console&&console.warn&&console.warn('Select2: The `select2("data")` method can no longer set selected values in 4.0.0, consider using the `.val()` method instead.'),arguments.length>1&&(i=arguments[1]),t?(s=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),i&&this.triggerChange({added:t,removed:s})):this.clear(i)}}),R=O(A,{createContainer:function(){var e=t(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),s=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var i=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){i.push(s.optionToData(e))}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(s,i){var n=l(s.val(),e.separator,e.transformVal),o=[];e.query({matcher:function(s,i,l){var a=t.grep(n,function(t){return r(t,e.id(l))}).length;return a&&o.push(l),a},callback:t.isFunction(i)?function(){for(var t=[],s=0;s<n.length;s++)for(var l=n[s],a=0;a<o.length;a++){var c=o[a];if(r(l,e.id(c))){t.push(c),o.splice(a,1);break}}i(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),I.call(this,"searchContainer","selection")},initContainer:function(){var e,s=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(s);var i=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(e){i.search[0].focus(),i.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+D()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.on("focus.select2",this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var s=e.find(".select2-search-choice-focus"),i=s.prev(".select2-search-choice:not(.select2-locked)"),n=s.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(s.length&&(t.which==H.LEFT||t.which==H.RIGHT||t.which==H.BACKSPACE||t.which==H.DELETE||t.which==H.ENTER)){var r=s;return t.which==H.LEFT&&i.length?r=i:t.which==H.RIGHT?r=n.length?n:null:t.which===H.BACKSPACE?this.unselect(s.first())&&(this.search.width(10),r=i.length?i:n):t.which==H.DELETE?this.unselect(s.first())&&(this.search.width(10),r=n.length?n:null):t.which==H.ENTER&&(r=null),this.selectChoice(r),g(t),void(r&&r.length||this.open())}if((t.which===H.BACKSPACE&&1==this.keydowns||t.which==H.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void g(t);if(this.selectChoice(null),this.opened())switch(t.which){case H.UP:case H.DOWN:return this.moveHighlight(t.which===H.UP?-1:1),void g(t);case H.ENTER:return this.selectHighlighted(),void g(t);case H.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case H.ESC:return this.cancel(t),void g(t)}if(t.which!==H.TAB&&!H.isControl(t)&&!H.isFunctionKey(t)&&t.which!==H.BACKSPACE&&t.which!==H.ESC){if(t.which===H.ENTER){if(!1===this.opts.openOnEnter)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),t.which!==H.PAGE_UP&&t.which!==H.PAGE_DOWN||g(t),t.which===H.ENTER&&g(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",s,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",s,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(s){s!==e&&null!==s&&(t.updateSelection(s),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),s=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(s>0?s:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.prefillNextSearchTerm(),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var s={},i=[],n=this;t(e).each(function(){n.id(this)in s||(s[n.id(this)]=0,i.push(this))}),this.selection.find(".select2-search-choice").remove(),this.addSelectedChoice(i),n.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.lastSearchTerm=this.search.val(),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.prefillNextSearchTerm()&&this.updateResults(),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var s=this.getVal(),i=this;t(e).each(function(){s.push(i.createChoice(this))}),this.setVal(s)},createChoice:function(s){var i,n,o=!s.locked,r=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),l=t("<li class='select2-search-choice select2-locked'><div></div></li>"),a=o?r:l,c=this.id(s);return i=this.opts.formatSelection(s,a.find("div"),this.opts.escapeMarkup),i!=e&&a.find("div").replaceWith(t("<div></div>").html(i)),n=this.opts.formatSelectionCssClass(s,a.find("div")),n!=e&&a.addClass(n),o&&a.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",s),a.insertBefore(this.searchContainer),c},unselect:function(e){var s,i,o=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(s=e.data("select2-data"),s){var r=t.Event("select2-removing");if(r.val=this.id(s),r.choice=s,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;for(;(i=n(this.id(s),o))>=0;)o.splice(i,1),this.setVal(o),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(s),choice:s}),this.triggerChange({removed:s}),!0}},postprocessResults:function(t,e,s){var i=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),l=this;o.each2(function(t,e){var s=l.id(e.data("select2-data"));n(s,i)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&!1!==s&&!0===this.opts.closeOnSelect&&l.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&C(l.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+k(l.opts.formatNoMatches,l.opts.element,l.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var t,e,s,i,n,o=a(this.search);t=_(this.search)+10,e=this.search.offset().left,s=this.selection.width(),i=this.selection.offset().left,n=s-(e-i)-o,n<t&&(n=s-o),n<40&&(n=s-o),n<=0&&(n=t),this.search.width(Math.floor(n))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),l(t,this.opts.separator,this.opts.transformVal))},setVal:function(e){if(this.select)this.select.val(e);else{var s=[],i={};t(e).each(function(){this in i||(s.push(this),i[this]=0)}),this.opts.element.val(0===s.length?"":s.join(this.opts.separator))}},buildChangeDetails:function(t,e){e=e.slice(0),t=t.slice(0);for(var s=0;s<e.length;s++)for(var i=0;i<t.length;i++)if(r(this.opts.id(e[s]),this.opts.id(t[i]))){e.splice(s,1),s--,t.splice(i,1);break}return{added:e,removed:t}},val:function(s,i){var n,o=this;if(0===arguments.length)return this.getVal();if(n=this.data(),n.length||(n=[]),!s&&0!==s)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:n}));if(this.setVal(s),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(n,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var s=t.map(e,o.id);o.setVal(s),o.updateSelection(e),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(n,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],s=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(s.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,s){var i,n,o=this
;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get();n=this.data(),e||(e=[]),i=t.map(e,function(t){return o.opts.id(t)}),this.setVal(i),this.updateSelection(e),this.clearSearch(),s&&this.triggerChange(this.buildChangeDetails(n,this.data()))}}),t.fn.select2=function(){var s,i,o,r,l,a=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===a.length||"object"==typeof a[0])s=0===a.length?{}:t.extend({},a[0]),s.element=t(this),"select"===s.element.get(0).tagName.toLowerCase()?l=s.element.prop("multiple"):(l=s.multiple||!1,"tags"in s&&(s.multiple=l=!0)),i=l?new window.Select2.class.multi:new window.Select2.class.single,i.init(s);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(n(a[0],c)<0)throw"Unknown method: "+a[0];if(r=e,i=t(this).data("select2"),i===e)return;if(o=a[0],"container"===o?r=i.container:"dropdown"===o?r=i.dropdown:(d[o]&&(o=d[o]),r=i[o].apply(i,a.slice(1))),n(a[0],h)>=0||n(a[0],u)>=0&&1==a.length)return!1}}),r===e?this:r},t.fn.select2.defaults={debug:!1,width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,s,i){var n=[];return b(this.text(t),s.term,n,i),n.join("")},transformVal:function(e){return t.trim(e)},formatSelection:function(t,s,i){return t?i(this.text(t)):e},sortResults:function(t,e,s){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(t,s){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},text:function(e){return e&&this.data&&this.data.text?t.isFunction(this.data.text)?this.data.text(e):e[this.data.text]:e.text},matcher:function(t,e){return i(""+e).toUpperCase().indexOf(i(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:y,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(t,s){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){var e="ontouchstart"in window||navigator.msMaxTouchPoints>0;return!e||!(t.opts.minimumResultsForSearch<0)}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(t,e,s){return"Loading failed"},formatInputTooShort:function(t,e){var s=e-t.length;return"Please enter "+s+" or more character"+(1==s?"":"s")},formatInputTooLong:function(t,e){var s=t.length-e;return"Please delete "+s+" character"+(1==s?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results…"},formatSearching:function(){return"Searching…"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:x,tags:S},util:{debounce:u,markMatch:b,escapeMarkup:y,stripDiacritics:i},class:{abstract:A,single:P,multi:R}}}}(jQuery),function(t){"use strict";function e(t,e,s){this.init(t,e,s)}function s(){this.rules=[]}t.extend(e.prototype,{init:function(t,e,s){this.controller=t,this.condition=e,this.value=s,this.rules=[],this.controls=[]},evalCondition:function(e,s,i,n,o){if("=="==i)return this.checkBoolean(n)==this.checkBoolean(o);if("!="==i)return this.checkBoolean(n)!=this.checkBoolean(o);if(">="==i)return Number(o)>=Number(n);if("<="==i)return Number(o)<=Number(n);if(">"==i)return Number(o)>Number(n);if("<"==i)return Number(o)<Number(n);if("()"==i)return window[n](e,s,o);if("any"==i){if(t.isArray(o)){for(var r=o.length-1;r>=0;r--)if(-1!==t.inArray(o[r],n.split(",")))return!0}else if(-1!==t.inArray(o,n.split(",")))return!0}else if("not-any"==i)if(t.isArray(o)){for(r=o.length-1;r>=0;r--)if(-1==t.inArray(o[r],n.split(",")))return!0}else if(-1==t.inArray(o,n.split(",")))return!0;return!1},checkBoolean:function(t){switch(t){case!0:case"true":case 1:case"1":t=!0;break;case null:case!1:case"false":case 0:case"0":t=!1}return t},checkCondition:function(t){if(!this.condition)return!0;var e=t.find(this.controller),s=this.getControlValue(t,e);return void 0!==s&&(s=this.normalizeValue(e,this.value,s),this.evalCondition(t,e,this.condition,this.value,s))},normalizeValue:function(t,e,s){return"number"==typeof e?parseFloat(s):s},getControlValue:function(t,e){return e.length>1&&("radio"==e.attr("type")||"checkbox"==e.attr("type"))?e.filter(":checked").map(function(){return this.value}).get():"checkbox"==e.attr("type")||"radio"==e.attr("type")?e.is(":checked"):e.val()},createRule:function(t,s,i){var n=new e(t,s,i);return this.rules.push(n),n},include:function(t){this.controls.push(t)},applyRule:function(e,s){var i;i=void 0===s?this.checkCondition(e):s;var n=t.map(this.controls,function(t,s){return e.find(t)});i?(t(n).each(function(){t(this).removeClass("hidden")}),t(this.rules).each(function(){this.applyRule(e)})):(t(n).each(function(){t(this).addClass("hidden")}),t(this.rules).each(function(){this.applyRule(e,!1)}))}}),t.extend(s.prototype,{createRule:function(t,s,i){var n=new e(t,s,i);return this.rules.push(n),n},applyRules:function(e){t(this.rules).each(function(){this.applyRule(e)})}}),t.pf_deps={createRuleset:function(){return new s},enable:function(t,e,s){return t.on("change keyup",function(i){var n=i.target.getAttribute("data-depend-id")||i.target.getAttribute("data-sub-depend-id");-1!==s.indexOf(n)&&e.applyRules(t)}),e.applyRules(t),!0}}}(jQuery),function(t,e){if("function"==typeof define&&define.amd)define(["exports","jquery"],function(t,s){return e(t,s)});else if("undefined"!=typeof exports){var s=require("jquery");e(exports,s)}else e(t,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e){function s(t,e){function s(t,e,s){return t[e]=s,t}function n(t,e){for(var n,r=t.match(i.key);void 0!==(n=r.pop());)if(i.push.test(n)){var l=o(t.replace(/\[\]$/,""));e=s([],l,e)}else i.fixed.test(n)?e=s([],n,e):i.named.test(n)&&(e=s({},n,e));return e}function o(t){return void 0===u[t]&&(u[t]=0),u[t]++}function r(e){if(!i.validate.test(e.name))return this;var s=n(e.name,e.value);return h=t.extend(!0,h,s),this}function l(e){if(!t.isArray(e))throw new Error("formSerializer.addPairs expects an Array");for(var s=0,i=e.length;s<i;s++)this.addPair(e[s]);return this}function a(){return h}function c(){return JSON.stringify(a())}var h={},u={};this.addPair=r,this.addPairs=l,this.serialize=a,this.serializeJSON=c}var i={validate:/^(?!(_nonce|_pseudo))[a-zA-Z0-9_-]*(?:\[(?:\d*|(?!(_nonce|_pseudo))[a-zA-Z0-9_-]+)\])*$/i,key:/[a-zA-Z0-9_-]+|(?=\[\])/g,named:/^[a-zA-Z0-9_-]+$/,push:/^$/,fixed:/^\d+$/};return s.patterns=i,s.serializeObject=function(){return new s(e,this).addPairs(this.serializeArray()).serialize()},s.serializeJSON=function(){return new s(e,this).addPairs(this.serializeArray()).serializeJSON()},void 0!==e.fn&&(e.fn.serializeObjectPF=s.serializeObject,e.fn.serializeJSONPF=s.serializeJSON),t.FormSerializer=s,s}),function(t){t.fn.caret=function(t){var e=this[0],s="true"===e.contentEditable;if(0==arguments.length){if(window.getSelection){if(s){e.focus();var i=window.getSelection().getRangeAt(0),n=i.cloneRange();return n.selectNodeContents(e),n.setEnd(i.endContainer,i.endOffset),n.toString().length}return e.selectionStart}if(document.selection){if(e.focus(),s){i=document.selection.createRange(),n=document.body.createTextRange();return n.moveToElementText(e),n.setEndPoint("EndToEnd",i),n.text.length}t=0;var o=e.createTextRange(),r=(n=document.selection.createRange().duplicate(),n.getBookmark());for(o.moveToBookmark(r);0!==o.moveStart("character",-1);)t++;return t}return e.selectionStart?e.selectionStart:0}if(-1==t&&(t=this[s?"text":"val"]().length),window.getSelection)s?(e.focus(),window.getSelection().collapse(e.firstChild,t)):e.setSelectionRange(t,t);else if(document.body.createTextRange)if(s){o=document.body.createTextRange();o.moveToElementText(e),o.moveStart("character",t),o.collapse(!0),o.select()}else{o=e.createTextRange();o.move("character",t),o.select()}return s||e.focus(),t}}(jQuery),function(t){t.fn.tagEditorInput=function(){var e=" ",s=t(this),i=parseInt(s.css("fontSize")),n=t("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:s.css("fontSize"),fontFamily:s.css("fontFamily"),fontWeight:s.css("fontWeight"),letterSpacing:s.css("letterSpacing"),whiteSpace:"nowrap"}),o=function(){if(e!==(e=s.val())){n.text(e);var t=n.width()+i;20>t&&(t=20),t!=s.width()&&s.width(t)}};return n.insertAfter(s),s.bind("keyup keydown focus",o)},t.fn.tagEditor=function(e,s,n){function o(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var r,l=t.extend({},t.fn.tagEditor.defaults,e),a=this;if(l.dregex=new RegExp("["+l.delimiter.replace("-","-")+"]","g"),"string"==typeof e){var c=[];return a.each(function(){var i=t(this),o=i.data("options"),r=i.next(".tag-editor");if("getTags"==e)c.push({field:i[0],editor:r,tags:r.data("tags")});else if("addTag"==e){if(o.maxTags&&r.data("tags").length>=o.maxTags)return!1;t('<li><div class="tag-editor-spacer">&nbsp;'+o.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(r).find(".tag-editor-tag").html('<input type="text" maxlength="'+o.maxLength+'">').addClass("active").find("input").val(s).blur(),n?t(".placeholder",r).remove():r.click()}else"removeTag"==e?(t(".tag-editor-tag",r).filter(function(){return t(this).text()==s}).closest("li").find(".tag-editor-delete").click(),n||r.click()):"destroy"==e&&i.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),"getTags"==e?c:this}return window.getSelection&&t(document).off("keydown.tag-editor").on("keydown.tag-editor",function(e){if(8==e.which||46==e.which||e.ctrlKey&&88==e.which){try{var s=getSelection(),n="INPUT"!=document.activeElement.tagName?t(s.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch(e){n=0}if(s.rangeCount>0&&n&&n.length){var o=[],r=s.toString().split(n.prev().data("options").dregex);for(i=0;i<r.length;i++){var l=t.trim(r[i]);l&&o.push(l)}return t(".tag-editor-tag",n).each(function(){~t.inArray(t(this).text(),o)&&t(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),a.each(function(){function e(){!l.placeholder||a.length||t(".deleted, .placeholder, input",c).length||c.append('<li class="placeholder"><div>'+l.placeholder+"</div></li>")}function s(s){var i=a.toString();a=t(".tag-editor-tag:not(.deleted)",c).map(function(e,s){var i=t.trim(t(this).hasClass("active")?t(this).find("input").val():t(s).text());if(i)return i}).get(),c.data("tags",a),n.val(a.join(l.delimiter[0])),s||i!=a.toString()&&l.onChange(n,c,a),e()}function i(e){for(var i,r=e.closest("li"),h=e.val().replace(/ +/," ").split(l.dregex),u=e.data("old_tag"),d=a.slice(0),p=!1,f=0;f<h.length;f++)if(g=t.trim(h[f]).slice(0,l.maxLength),l.forceLowercase&&(g=g.toLowerCase()),i=l.beforeTagSave(n,c,d,u,g),g=i||g,!1!==i&&g&&(l.removeDuplicates&&~t.inArray(g,d)&&t(".tag-editor-tag",c).each(function(){t(this).text()==g&&t(this).closest("li").remove()}),d.push(g),r.before('<li><div class="tag-editor-spacer">&nbsp;'+l.delimiter[0]+'</div><div class="tag-editor-tag">'+o(g)+'</div><div class="tag-editor-delete"><i></i></div></li>'),l.maxTags&&d.length>=l.maxTags)){p=!0;break}e.attr("maxlength",l.maxLength).removeData("old_tag").val(""),p?e.blur():e.focus(),s()}var n=t(this),a=[],c=t("<ul "+(l.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(n);n.addClass("tag-editor-hidden-src").data("options",l).on("focus.tag-editor",function(){c.click()}),c.append('<li style="width:1px">&nbsp;</li>');var h,u,d='<li><div class="tag-editor-spacer">&nbsp;'+l.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';c.click(function(e,s){var i,n,o=99999;if(!window.getSelection||""==getSelection())return l.maxTags&&c.data("tags").length>=l.maxTags?(c.find("input").blur(),!1):(r=!0,t("input:focus",c).blur(),!!r&&(r=!0,t(".placeholder",c).remove(),s&&s.length?n="before":t(".tag-editor-tag",c).each(function(){var r=t(this),l=r.offset(),a=l.left,c=l.top;e.pageY>=c&&e.pageY<=c+r.height()&&(e.pageX<a?(n="before",i=a-e.pageX):(n="after",i=e.pageX-a-r.width()),i<o&&(o=i,s=r))}),"before"==n?t(d).insertBefore(s.closest("li")).find(".tag-editor-tag").click():"after"==n?t(d).insertAfter(s.closest("li")).find(".tag-editor-tag").click():t(d).appendTo(c).find(".tag-editor-tag").click(),!1))}),c.on("click",".tag-editor-delete",function(i){if(t(this).prev().hasClass("active"))return t(this).closest("li").find("input").caret(-1),!1;var o=t(this).closest("li"),r=o.find(".tag-editor-tag");return!1!==l.beforeTagDelete(n,c,a,r.text())&&(r.addClass("deleted").animate({width:0},l.animateDelete,function(){o.remove(),e()}),s(),!1)}),l.clickDelete&&c.on("mousedown",".tag-editor-tag",function(i){if(i.ctrlKey||i.which>1){var o=t(this).closest("li"),r=o.find(".tag-editor-tag");return!1!==l.beforeTagDelete(n,c,a,r.text())&&(r.addClass("deleted").animate({width:0},l.animateDelete,function(){o.remove(),e()}),s(),!1)}}),c.on("click",".tag-editor-tag",function(e){if(l.clickDelete&&(e.ctrlKey||e.which>1))return!1;if(!t(this).hasClass("active")){var s=t(this).text(),i=Math.abs((t(this).offset().left-e.pageX)/t(this).width()),n=parseInt(s.length*i),r=t(this).html('<input type="text" maxlength="'+l.maxLength+'" value="'+o(s)+'">').addClass("active").find("input");if(r.data("old_tag",s).tagEditorInput().focus().caret(n),l.autocomplete){var a=t.extend({},l.autocomplete),h="select"in a?l.autocomplete.select:"";a.select=function(e,s){h&&h(e,s),setTimeout(function(){c.trigger("click",[t(".active",c).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},r.autocomplete(a)}}return!1}),c.on("blur","input",function(h){h.stopPropagation();var u=t(this),d=u.data("old_tag"),p=t.trim(u.val().replace(/ +/," ").replace(l.dregex,l.delimiter[0]));if(p){if(p.indexOf(l.delimiter[0])>=0)return void i(u);if(p!=d)if(l.forceLowercase&&(p=p.toLowerCase()),cb_val=l.beforeTagSave(n,c,a,d,p),p=cb_val||p,!1===cb_val){if(d)return u.val(d).focus(),r=!1,void s();try{u.closest("li").remove()}catch(h){}d&&s()}else l.removeDuplicates&&t(".tag-editor-tag:not(.active)",c).each(function(){t(this).text()==p&&t(this).closest("li").remove()})}else{if(d&&!1===l.beforeTagDelete(n,c,a,d))return u.val(d).focus(),r=!1,void s();try{u.closest("li").remove()}catch(h){}d&&s()}u.parent().html(o(p)).removeClass("active"),p!=d&&s(),e()}),c.on("paste","input",function(e){t(this).removeAttr("maxlength"),h=t(this),setTimeout(function(){i(h)},30)}),c.on("keypress","input",function(e){l.delimiter.indexOf(String.fromCharCode(e.which))>=0&&(u=t(this),setTimeout(function(){i(u)},20))}),c.on("keydown","input",function(e){var s=t(this);if((37==e.which||!l.autocomplete&&38==e.which)&&!s.caret()||8==e.which&&!s.val()){var i=s.closest("li").prev("li").find(".tag-editor-tag");return i.length?i.click().find("input").caret(-1):!s.val()||l.maxTags&&c.data("tags").length>=l.maxTags||t(d).insertBefore(s.closest("li")).find(".tag-editor-tag").click(),!1}if((39==e.which||!l.autocomplete&&40==e.which)&&s.caret()==s.val().length){var o=s.closest("li").next("li").find(".tag-editor-tag");return o.length?o.click().find("input").caret(0):s.val()&&c.click(),!1}if(9==e.which){if(e.shiftKey){i=s.closest("li").prev("li").find(".tag-editor-tag");if(i.length)i.click().find("input").caret(0);else{if(!s.val()||l.maxTags&&c.data("tags").length>=l.maxTags)return n.attr("disabled","disabled"),void setTimeout(function(){n.removeAttr("disabled")},30);t(d).insertBefore(s.closest("li")).find(".tag-editor-tag").click()}return!1}o=s.closest("li").next("li").find(".tag-editor-tag");if(o.length)o.click().find("input").caret(0);else{if(!s.val())return;c.click()}return!1}if(!(46!=e.which||t.trim(s.val())&&s.caret()!=s.val().length)){o=s.closest("li").next("li").find(".tag-editor-tag");return o.length?o.click().find("input").caret(0):s.val()&&c.click(),!1}if(13==e.which)return c.trigger("click",[s.closest("li").next("li").find(".tag-editor-tag")]),l.maxTags&&c.data("tags").length>=l.maxTags&&c.find("input").blur(),!1;if(36!=e.which||s.caret()){if(35==e.which&&s.caret()==s.val().length)c.find(".tag-editor-tag").last().click();else if(27==e.which)return s.val(s.data("old_tag")?s.data("old_tag"):"").blur(),!1}else c.find(".tag-editor-tag").first().click()});for(var p=l.initialTags.length?l.initialTags:n.val().split(l.dregex),f=0;f<p.length&&!(l.maxTags&&f>=l.maxTags);f++){var g=t.trim(p[f].replace(/ +/," "));g&&(l.forceLowercase&&(g=g.toLowerCase()),a.push(g),c.append('<li><div class="tag-editor-spacer">&nbsp;'+l.delimiter[0]+'</div><div class="tag-editor-tag">'+o(g)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}s(!0),l.sortable&&t.fn.sortable&&c.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){s()}})})},t.fn.tagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}}(jQuery);var factory=function(t,e){var s=function(e,s){var i=this;i.field=t(e),i.el=null,i.json=null,i.items=[],i.selectedItem=null,i.list=t('<ul class="autocomplete-list" />'),i.lastSearch=null,i.options=s};s.prototype={defaults:{minChars:2,markAsBold:!0,grouped:!1,queryProperty:"q",queryParameters:{},method:"get",scrollOnFocus:"auto",maxItems:100,keyboardDelay:300,lastItemTemplate:null,closeOnSelect:!0,groupContentName:".autocomplete-items",groupTemplate:'<li class="autocomplete-group"><span class="autocomplete-group-header">{{title}}</span><ul class="autocomplete-items" /></li>',itemTemplate:'<li class="autocomplete-item">{{title}}</li>',showNoResults:!1,noResultsTemplate:'<li class="autocomplete-item">No results for {{title}}</li>',wrapClasses:"autocomplete"},init:function(){return this.defaults.templateMethod=this.template,this.settings=t.extend({},this.defaults,this.options),this.setupSettings(),this.setupMarkup(),this.setupEvents(),this},template:function(t,e){return t.replace(/{{\s*[\w]+\s*}}/g,function(t){return e[t.substr(2,t.length-4)]})},debounce:function(t,e,s){var i;return function(){var n=this,o=arguments,r=function(){i=null,s||t.apply(n,o)},l=s&&!i;clearTimeout(i),i=setTimeout(r,e),l&&t.apply(n,o)}},setupSettings:function(){"auto"==this.settings.scrollOnFocus&&(this.settings.scrollOnFocus=this.isTouchDevice()),e.innerWidth<700&&(this.settings.maxItems=Math.min(this.settings.maxItems,3)),this.settings.data?this.request=this.localRequest:this.request=this.remoteRequest,null!=this.settings.keyboardDelay&&(this.request=this.debounce(this.request,this.settings.keyboardDelay))},setupEvents:function(){this.el.on("keyup",".autocomplete-field",t.proxy(this.onKeyUp,this)),this.el.on("keydown",".autocomplete-field",t.proxy(this.onKeyDown,this)),this.el.on("mousedown",".autocomplete-item",t.proxy(this.onClickItem,this)),this.el.on("blur",".autocomplete-field",t.proxy(this.closeList,this)),this.settings.scrollOnFocus&&this.field.on("focus",function(){var s=t(this).offset().top;setTimeout(function(){e.scrollTo(0,s)},0)})},setupMarkup:function(){this.field.addClass("autocomplete-field"),this.field.attr("autocomplete","off"),this.field.wrap('<div class="'+this.settings.wrapClasses+'" />'),this.el=this.field.parent()},remoteRequest:function(e){this.field.trigger("beforerequest",[this,e]);var s={};t.extend(s,this.settings.queryParameters),s[this.settings.queryProperty]=e,t.ajax({method:this.settings.method,url:this.settings.url,dataType:"json",data:s,success:t.proxy(this.beforeReceiveData,this)})},localRequest:function(t){this.settings.grouped?this.beforeReceiveData(this.matchLocalPatternGrouped(t)):this.beforeReceiveData(this.matchLocalPatternFlat(t))},matchLocalPatternFlat:function(t){return this.matchArray(t,this.settings.data)},matchLocalPatternGrouped:function(e){for(var s=t.extend(!0,[],this.settings.data),i=0;i<s.length;i++){var n=this.matchArray(e,s[i].data);0==n.length?(s.splice(i,1),i--):s[i].data=n}return s},matchArray:function(t,e){for(var s=[],i=0;i<e.length;i++)for(var n in e[i])if(e[i][n].toLowerCase&&e[i][n].toLowerCase().indexOf(t.toLowerCase())>-1||e[i][n]==t){s.push(e[i]);break}return s},itemAt:function(e){return null==e?t():this.el.find(".autocomplete-item").eq(e)},clickedItemAt:function(t){for(var e=0;e<this.items.length;e++)if(t==this.el.find(".autocomplete-item").eq(e).get(0))return e;return null},prevItem:function(){this.selectedItem--,this.selectedItem<0&&(this.selectedItem=null),this.markSelected(this.selectedItem)},nextItem:function(){null==this.selectedItem&&(this.selectedItem=-1),this.selectedItem++;var t=this.settings.lastItemTemplate?this.items.length:this.items.length-1;this.selectedItem>=t&&(this.selectedItem=t),this.markSelected(this.selectedItem)},markSelected:function(t){this.el.find(".active").removeClass("active"),this.itemAt(t).addClass("active")},markHitText:function(t,e){var s=e.split(" ");for(var i in t)if("string"==typeof t[i]&&"template"!=i){for(var n=[e],o=0;o<s.length;o++){var r=s[o].trim().replace(/[^a-ö0-9]/gi,"");r.length>0&&n.push(r)}t[i]=t[i].replace(new RegExp("("+n.join("|")+")","gi"),"<strong>$1</strong>")}return t},renderGroups:function(){for(var e in this.list.remove(),this.list=t('<ul class="autocomplete-list" />'),this.json)this.list.append(this.settings.templateMethod(this.settings.groupTemplate,this.json[e]));this.el.append(this.list)},renderItemsInGroups:function(){for(var e=this.field.val(),s=0;s<this.json.length;s++)for(var i=this.el.find(this.settings.groupContentName).eq(s),n=0;n<this.json[s].data.length&&n<this.settings.maxItems;n++){var o=t.extend({},this.json[s].data[n]);this.settings.markAsBold&&(o=this.markHitText(o,e)),i.append(this.settings.templateMethod(this.json[s].template||this.settings.itemTemplate,o))}},renderItemsFlat:function(){this.list.remove(),this.list=t('<ul class="autocomplete-list" />');for(var e=this.field.val(),s=0;s<this.json.length&&s<this.settings.maxItems;s++){var i=t.extend({},this.json[s]);this.settings.markAsBold&&(i=this.markHitText(i,e)),this.list.append(this.settings.templateMethod(this.json[s].template||this.settings.itemTemplate,i))}this.el.append(this.list)},renderLastItem:function(){this.list.append(this.settings.templateMethod(this.settings.lastItemTemplate,{title:this.field.val()}))},renderNoResults:function(){this.list.append(this.settings.templateMethod(this.settings.noResultsTemplate,{title:this.field.val()}))},closeList:function(){t("html").off("click"),this.list.remove(),this.selectedItem=null},getItemsFromGroups:function(){var t=[];for(var e in this.json)for(var s=0;s<this.json[e].data.length;s++)s<this.settings.maxItems&&t.push(this.json[e].data[s]);return t},valueHasChanged:function(){return this.field.val()!=this.lastSearch&&(this.lastSearch=this.field.val(),!0)},isTouchDevice:function(){return!!("ontouchstart"in e)},beforeReceiveData:function(t,e){this.json=t,this.field.trigger("receivedata",[this,t,e]),this.onReceiveData(this.json)},onReceiveData:function(e){this.selectedItem=null,this.settings.grouped?(this.renderGroups(),this.items=this.getItemsFromGroups(),this.renderItemsInGroups()):(this.items=this.json,this.renderItemsFlat()),this.items.length||this.settings.showNoResults&&this.renderNoResults(),this.settings.lastItemTemplate&&this.renderLastItem(),t("html").one("click",t.proxy(this.closeList,this))},onKeyUp:function(t){this.field.val().length>=this.settings.minChars&&this.valueHasChanged()&&this.request(this.field.val()),""==this.field.val()&&(this.lastSearch="",this.closeList())},onKeyDown:function(t){38==t.keyCode&&(t.preventDefault(),this.prevItem()),40==t.keyCode&&(t.preventDefault(),this.nextItem()),13==t.keyCode&&this.onPressEnter(t),27==t.keyCode&&(t.preventDefault(),this.closeList())},onClickItem:function(t){var e=this.clickedItemAt(t.currentTarget);this.onSelect(t.currentTarget,this.items[e])},onPressEnter:function(t){if(null===this.selectedItem)return!0;t.preventDefault(),this.onSelect(this.itemAt(this.selectedItem),this.items[this.selectedItem])},onSelect:function(t,e){this.settings.onSelect&&this.settings.onSelect.apply(this.field,[t,e]),this.lastSearch=this.field.val(),this.settings.closeOnSelect&&this.closeList()}},s.defaults=s.prototype.defaults,jQuery.fn.tinyAutocomplete=function(e){return this.each(function(){if(this.tinyAutocomplete)return t.extend(this.tinyAutocomplete.settings,e),this;var i=new s(this,e).init();this.tinyAutocomplete={settings:i.settings}})}};"undefined"!=typeof exports?module.exports=factory:factory($,window);